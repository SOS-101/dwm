#!/bin/sh
_thisdir=$(cd $(dirname $0); pwd)

cron() {
    [ $1 ] && sleep $1

    i=0
    while true
    do
        [ -x "$(which feh 2> /dev/null)" ] && [ $((i % 300)) -eq 0 ]\
            && feh --randomize --bg-fill $wallpapers/*.png

        sleep 2; i=$((i + 2))
    done
}

startup() {
    [ $1 ] && sleep $1

    [ -x "$(which st 2> /dev/null)" ]\
        && st -e tmux &
}

daemons() {
    [ $1 ] && sleep $1

    [ -x "$(which picom 2> /dev/null)" ]\
        && picom -b &

    [ -x "$(which xbanish 2> /dev/null)" ]\
        && xbanish &

    [ -x "$(which fcitx5 2> /dev/null)" ]\
        && fcitx5 -d 2> /dev/null &
}

cron &
daemons &
startup &
